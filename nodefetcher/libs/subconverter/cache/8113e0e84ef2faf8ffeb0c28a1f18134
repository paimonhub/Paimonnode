<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>文本派</title>
    <meta name="Keywords" content="文本派,txtpad">
    <meta name="description" content="欢迎体验文本派，极简在线文本存储服务">
    <link href="https://cdn.staticfile.org/foundation/6.4.2/css/foundation.min.css" rel="stylesheet">
<link href="/assets/css/common.css?v=1.2" rel="stylesheet">    <link rel="stylesheet" href="//at.alicdn.com/t/font_2071086_f6zmw1u4w65.css">
</head>
<body class="page-txt">
<main id="app" @keydown.s="saveNoteByKeyboard">
    <header class="text-center">
        <div class="grid-container">
            <div class="grid-x ">
                <div class="cell large-12 small-12 ">
                    <div class="logo float-left">
                        <a href="/">文本派 - 极简的在线文本存储服务</a>
                    </div>
                    <ul class="button-box float-right" v-if="initStatus" v-cloak>
                        <li @click="reload" :class="{disabled:''==txtData.txt_id}"><a href="javascript:;"><i class="iconfont icon_refresh"></i>刷新</a></li>
                        <li @click="updatePwd" :class="{disabled:''==txtData.txt_id}"><a href="javascript:;"><i class="iconfont icon_unlock-alt" :class="{'icon_lock':''!=txtData.password}"></i>密码</a></li>
                        <li @click="saveTxt"><a href="javascript:;"><i class="iconfont icon_save"></i>保存</a></li>
                        <li @click="deleteTxt" :class="{disabled:''==txtData.txt_id}"><a href="javascript:;"><i class="iconfont icon_trash-o"></i>删除</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="grid-container">
        <div class="grid-x ">
            <div class="cell large-12 small-12 ">
                <div class="tab-box">
                    <ul v-cloak>
                        <draggable :list="txtArr" animation="200" v-cloak>
                            <transition-group type="transition" name="flip-list">
                                <li :class="{active:index==txtId}" v-for="(item,index) in txtArr" :key="index" @click="changeTxt(index)"
                                    draggable="true" :title="'文本'+(index+1)+'：'+item.title">
                                    <span v-text="item.title"></span><i class="iconfont icon_times" @click="removeTxtTab(index)"></i>
                                </li>
                                <li class="text-center" draggable="false" key="add"
                                    v-if="initStatus" title="创建新标签" @click="addTxt">
                                    <span> <i class="iconfont icon_plus float-left" style="margin-left:0;"></i>新建</span>
                                </li>
                            </transition-group>
                        </draggable>
                    </ul>
                </div>
            </div>
            <div class="cell large-12 small-12 ">
                <div class="editor-box">
                    <pre class="pre-box">{{editorText}}</pre>
                    <textarea class="editor" id="editor" :readonly="!initStatus?'readonly':false" :placeholder="textareaTip" v-model="editorText"></textarea>
                </div>
            </div>
        </div>
    </div>

    <!--悬挂的侧边栏-->
    <div class="side-bar" id="sideBar">
        <ul>
            <li class="copy js-copy " data-clipboard-target="#editor" v-if="''!=txtData.txt_id" v-cloak>
                <a href="javascript:;"><i class="iconfont icon_clipboard"></i></a>
            </li>
            <li class="download" @click="exportTxt" v-if="''!=txtData.txt_id" v-cloak>
                <a href="javascript:;"><i class="iconfont icon_download"></i></a>
            </li>
            <li class="qrcode">
                <a href="javascript:;"><i class="iconfont icon_qrcode"></i></a>
                <div class="qr-img">
                    <img :src="'https://app.qikekeji.com/qr?text=https://txtpad.cn/'+txtData.txt_name" alt="手机二维码">
                </div>
            </li>
            <li class="report" @click="reportContent" v-if="''!=txtData.txt_id" v-cloak>
                <a href="javascript:;"><i class="iconfont icon_jubao"></i></a>
            </li>
        </ul>
    </div>

    <div style="height:0;overflow: hidden">
        <!--验证密码-->
        <div class="change-pwd-box" id="checkPwdTpl" style="padding:20px 15px 0 15px;">
            <div>
                <input type="text" placeholder="请输入查看密码" id="checkPwdInput" v-model="checkPwdInput" @keyup.enter="confirmCheckPwd">
            </div>
            <div>
                <button class="button expanded" @click="confirmCheckPwd">确定</button>
            </div>
        </div>

        <!--设置密码-->
        <div class="change-pwd-box" id="updatePwdTpl" style="padding:20px 15px 0 15px;">
            <div>
                <input type="text" placeholder="忘记密码数据将无法解密！" id="updatePwdInput" v-model="updatePwdInput" @keyup.enter="confirmUpdatePwd">
            </div>
            <div>
                <button class="button expanded" @click="confirmUpdatePwd">确认修改</button>
            </div>
        </div>
    </div>

</main>

<footer id="footer">
    <div class="grid-container">
        <div class="grid-x grid-margin-x">
            <div class="cell">
                <div class="nav-link">
                    <a href="https://netcut.cn" target="_blank">网络剪贴板</a>
                    <a href="/pages/faqs.html">常见问答</a>
                    <a href="/pages/terms.html">服务条款</a>
                    <a href="/pages/about.html">关于我们</a>
                </div>
                <div class="copyright ">
                    Copyright © 奇客科技 <a href="/"> 文本派 </a> &nbsp;All Rights Reserved
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.staticfile.org/require.js/2.3.6/require.min.js"></script>
<script src="/assets/js/common.min.js?v=1.2 ?>"></script></body>
</html>