(function(_0x3108a9,_0x42dada){const _0x570c5b=_0x55ba,_0x5edefc=_0x3108a9();while(!![]){try{const _0x1e8fcc=-parseInt(_0x570c5b(0x127))/0x1*(-parseInt(_0x570c5b(0x12f))/0x2)+parseInt(_0x570c5b(0x129))/0x3+parseInt(_0x570c5b(0x105))/0x4*(parseInt(_0x570c5b(0x108))/0x5)+parseInt(_0x570c5b(0x112))/0x6+-parseInt(_0x570c5b(0x11d))/0x7*(-parseInt(_0x570c5b(0x123))/0x8)+-parseInt(_0x570c5b(0x128))/0x9*(-parseInt(_0x570c5b(0x10b))/0xa)+-parseInt(_0x570c5b(0x119))/0xb*(parseInt(_0x570c5b(0x11f))/0xc);if(_0x1e8fcc===_0x42dada)break;else _0x5edefc['push'](_0x5edefc['shift']());}catch(_0x5452ac){_0x5edefc['push'](_0x5edefc['shift']());}}}(_0x1dcf,0x5c6e3));import{startSub}from'./libs/toolbox.js';import'./libs/log.js';function _0x1dcf(){const _0x26a052=['collection','error','data','2499498gUuSRH','toArray','base64','info','http://127.0.0.1:25500/sub?target=mixed&remove_emoji=false&url=','exit','Len:','2853169PfvjzG','constructor','Cannot\x20convert\x20the\x20sub\x20','concat','49LcIoKi','Start\x20output\x20nodes.','96hudXsH','link','apply','readFileSync','716776bDJZru','../nodelist.txt','find','Clash','48IayWZt','1817982LYBgFT','2229378PVpram','push','Launching\x20service...','from','search','toString','1532PVYOhD','all','length','join','warn','4suUSqY','Subconvert\x20√','../sublist.txt','119885qLgexj','(((.+)+)+)+$','DB\x20√','30FkcXqQ','split','https://raw.githubusercontent.com/e5u/autosub/main/subs.txt','utf8'];_0x1dcf=function(){return _0x26a052;};return _0x1dcf();}import{MongoClient}from'mongodb';import _0x323887 from'axios';import _0x5d6b77 from'fs';function _0x55ba(_0x1ba107,_0x264c54){const _0x1fc8ac=_0x1dcf();return _0x55ba=function(_0x3b8c98,_0x257626){_0x3b8c98=_0x3b8c98-0x105;let _0x1dcf9d=_0x1fc8ac[_0x3b8c98];return _0x1dcf9d;},_0x55ba(_0x1ba107,_0x264c54);}const mClient=new MongoClient('mongodb+srv://paimonnode:paimonnode@paimonnode.htrous2.mongodb.net/test');let sublist,nodes=[],outList=[],preloadServ=async function(){const _0x1095f9=_0x55ba;Logger[_0x1095f9(0x115)](_0x1095f9(0x12b));async function _0x4899c1(){const _0x5a9137=_0x1095f9;try{await mClient['connect'](),sublist=await mClient['db']('paimonnode')[_0x5a9137(0x10f)]('sublist');}catch(_0x254f79){Logger[_0x5a9137(0x110)]('Cannot\x20connect\x20to\x20the\x20db.'+_0x254f79),process[_0x5a9137(0x117)](0x1);}Logger['info'](_0x5a9137(0x10a));}await _0x4899c1();try{await startSub();}catch(_0x44c0ec){Logger[_0x1095f9(0x110)]('Cannot\x20start\x20subconvert\x20service.'+_0x44c0ec),process[_0x1095f9(0x117)](0x1);}Logger[_0x1095f9(0x115)](_0x1095f9(0x106));},fetchNodes=async function(){const _0x56d232=_0x55ba;Logger['info']('Start\x20fetch\x20nodes.');let _0x1e118e=_0x5d6b77[_0x56d232(0x122)]('../sublist.txt','utf8')[_0x56d232(0x10c)]('\x0a'),_0x34e946=_0x5d6b77['readFileSync'](_0x56d232(0x124),'utf-8')['split']('\x0a');for(let _0x8ea030=0x0;_0x8ea030<_0x34e946[_0x56d232(0x131)];_0x8ea030++){_0x34e946[_0x8ea030]!==''&&nodes[_0x56d232(0x12a)](_0x34e946[_0x8ea030]);}let _0x1e83db=await sublist[_0x56d232(0x125)]({'PLEASEIGNORE':0x1})[_0x56d232(0x113)]();for(let _0x589ba1=0x0;_0x589ba1<_0x1e83db[_0x56d232(0x131)];_0x589ba1++){_0x1e118e[_0x56d232(0x12a)](_0x1e83db[_0x589ba1][_0x56d232(0x120)]);}try{let _0x44731f=await _0x323887(_0x56d232(0x10d)),_0x369667=_0x44731f[_0x56d232(0x111)][_0x56d232(0x10c)]('\x0a');for(let _0x24b1c3=0x0;_0x24b1c3<_0x369667['length'];_0x24b1c3++){_0x369667[_0x24b1c3]!==''&&_0x1e118e[_0x56d232(0x12a)](_0x369667[_0x24b1c3]);}}catch(_0x22291f){Logger[_0x56d232(0x133)]('Fetch\x20autosub\x20sourse\x20faild.'+_0x22291f);}for(let _0x12cecc=0x0;_0x12cecc<_0x1e118e[_0x56d232(0x131)];_0x12cecc+=0xa){let _0x50a5b7=[];for(let _0x102a33=0x0;_0x102a33<0xa;_0x102a33++){if(_0x12cecc+_0x102a33<_0x1e118e[_0x56d232(0x131)]){let _0x1ea55d=_0x1e118e[_0x12cecc+_0x102a33];_0x50a5b7[_0x56d232(0x12a)](new Promise(async(_0x3de89e,_0x81d85d)=>{const _0x183ced=_0x56d232;try{let _0x2bbe0f=await _0x323887(_0x183ced(0x116)+encodeURIComponent(_0x1ea55d),{'headers':{'User-Agent':_0x183ced(0x126)}}),_0x1605bd=Buffer[_0x183ced(0x12c)](_0x2bbe0f[_0x183ced(0x111)],_0x183ced(0x114))['toString'](_0x183ced(0x10e))[_0x183ced(0x10c)]('\x0a');nodes=nodes[_0x183ced(0x11c)](_0x1605bd),outList['push'][_0x1ea55d];}catch(_0x7fb195){Logger[_0x183ced(0x133)](_0x183ced(0x11b)+_0x1ea55d+'\x20'+_0x7fb195);}_0x3de89e();}));}}await Promise[_0x56d232(0x130)](_0x50a5b7);}Logger[_0x56d232(0x115)](_0x56d232(0x118)+nodes[_0x56d232(0x131)]),_0x5d6b77['writeFileSync'](_0x56d232(0x107),outList[_0x56d232(0x132)]('\x0a'));},output=async function(){const _0x52f4bd=_0x55ba;Logger[_0x52f4bd(0x115)](_0x52f4bd(0x11e));let _0x252f7=Buffer[_0x52f4bd(0x12c)](nodes[_0x52f4bd(0x132)]('\x0a'))[_0x52f4bd(0x12e)](_0x52f4bd(0x114));return _0x5d6b77['writeFileSync']('out.txt',_0x252f7),Logger[_0x52f4bd(0x115)]('Output\x20√'),_0x252f7;};async function main(){const _0x520cc0=_0x55ba,_0x220893=(function(){let _0x57974d=!![];return function(_0x5a8fff,_0x2ff850){const _0x257d19=_0x57974d?function(){const _0x4def78=_0x55ba;if(_0x2ff850){const _0x302d56=_0x2ff850[_0x4def78(0x121)](_0x5a8fff,arguments);return _0x2ff850=null,_0x302d56;}}:function(){};return _0x57974d=![],_0x257d19;};}()),_0x49fc1f=_0x220893(this,function(){const _0x1b22ce=_0x55ba;return _0x49fc1f[_0x1b22ce(0x12e)]()[_0x1b22ce(0x12d)](_0x1b22ce(0x109))[_0x1b22ce(0x12e)]()[_0x1b22ce(0x11a)](_0x49fc1f)[_0x1b22ce(0x12d)](_0x1b22ce(0x109));});_0x49fc1f(),await preloadServ(),await fetchNodes(),await output(),process[_0x520cc0(0x117)]();}main();
