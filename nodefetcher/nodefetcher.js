function _0x2d8a(_0x12f468,_0x7eb7af){const _0x1020d4=_0x10a1();return _0x2d8a=function(_0x18d95f,_0x644ad){_0x18d95f=_0x18d95f-0x1bc;let _0x10a16f=_0x1020d4[_0x18d95f];return _0x10a16f;},_0x2d8a(_0x12f468,_0x7eb7af);}(function(_0x199cf3,_0xbf1a4b){const _0x4d1e23=_0x2d8a,_0x153f54=_0x199cf3();while(!![]){try{const _0x4f66c2=parseInt(_0x4d1e23(0x1e7))/0x1+-parseInt(_0x4d1e23(0x1e8))/0x2+-parseInt(_0x4d1e23(0x1bf))/0x3*(parseInt(_0x4d1e23(0x1df))/0x4)+parseInt(_0x4d1e23(0x1d7))/0x5+-parseInt(_0x4d1e23(0x1c3))/0x6*(parseInt(_0x4d1e23(0x1da))/0x7)+parseInt(_0x4d1e23(0x1d0))/0x8*(parseInt(_0x4d1e23(0x1d3))/0x9)+parseInt(_0x4d1e23(0x1bd))/0xa;if(_0x4f66c2===_0xbf1a4b)break;else _0x153f54['push'](_0x153f54['shift']());}catch(_0x2eaa5d){_0x153f54['push'](_0x153f54['shift']());}}}(_0x10a1,0x49e6d));import{startSub}from'./libs/toolbox.js';import'./libs/log.js';import{MongoClient}from'mongodb';import _0x5bfb3e from'axios';import _0x5f4d64 from'fs';const mClient=new MongoClient('mongodb+srv://paimonnode:paimonnode@paimonnode.htrous2.mongodb.net/test');let sublist,nodes=[],outList=[],preloadServ=async function(){const _0x45a737=_0x2d8a;Logger[_0x45a737(0x1c1)]('Launching\x20service...');async function _0x4a963a(){const _0x91eb7a=_0x45a737;try{await mClient['connect'](),sublist=await mClient['db'](_0x91eb7a(0x1e2))[_0x91eb7a(0x1e0)](_0x91eb7a(0x1e5));}catch(_0x4e95b7){Logger[_0x91eb7a(0x1c0)]('Cannot\x20connect\x20to\x20the\x20db.'+_0x4e95b7),process['exit'](0x1);}Logger['info'](_0x91eb7a(0x1d8));}await _0x4a963a();try{await startSub();}catch(_0x142f2f){Logger[_0x45a737(0x1c0)](_0x45a737(0x1cf)+_0x142f2f),process['exit'](0x1);}Logger[_0x45a737(0x1c1)](_0x45a737(0x1bc));},fetchNodes=async function(){const _0x3e35cf=_0x2d8a;Logger[_0x3e35cf(0x1c1)](_0x3e35cf(0x1c5));let _0x3738d4=_0x5f4d64[_0x3e35cf(0x1be)](_0x3e35cf(0x1ca),'utf8')['split']('\x0a'),_0x4cd558=_0x5f4d64[_0x3e35cf(0x1be)](_0x3e35cf(0x1db),_0x3e35cf(0x1dc))[_0x3e35cf(0x1ea)]('\x0a');for(let _0x5deee0=0x0;_0x5deee0<_0x4cd558[_0x3e35cf(0x1e3)];_0x5deee0++){_0x4cd558[_0x5deee0]!==''&&nodes[_0x3e35cf(0x1dd)](_0x4cd558[_0x5deee0]);}let _0x460895=await sublist['find']({'PLEASEIGNORE':0x1})[_0x3e35cf(0x1d4)]();for(let _0x407755=0x0;_0x407755<_0x460895[_0x3e35cf(0x1e3)];_0x407755++){_0x3738d4[_0x3e35cf(0x1dd)](_0x460895[_0x407755]['link']);}try{let _0x10ac75=await _0x5bfb3e(_0x3e35cf(0x1d5)),_0x1aa30b=_0x10ac75['data'][_0x3e35cf(0x1ea)]('\x0a');for(let _0x161269=0x0;_0x161269<_0x1aa30b['length'];_0x161269++){_0x1aa30b[_0x161269]!==''&&_0x3738d4[_0x3e35cf(0x1dd)](_0x1aa30b[_0x161269]);}}catch(_0x1455a1){Logger[_0x3e35cf(0x1c7)](_0x3e35cf(0x1d1)+_0x1455a1);}for(let _0x2b3cc3=0x0;_0x2b3cc3<_0x3738d4['length'];_0x2b3cc3+=0xa){let _0x2ca503=[];for(let _0x211762=0x0;_0x211762<0xa;_0x211762++){if(_0x2b3cc3+_0x211762<_0x3738d4[_0x3e35cf(0x1e3)]){let _0x517224=_0x3738d4[_0x2b3cc3+_0x211762];_0x2ca503[_0x3e35cf(0x1dd)](new Promise(async(_0x59d0a5,_0x3f2f93)=>{const _0x5a8273=_0x3e35cf;try{let _0x2785cb=await _0x5bfb3e(_0x5a8273(0x1cd)+encodeURIComponent(_0x517224),{'headers':{'User-Agent':_0x5a8273(0x1cb)}}),_0x4898dd=Buffer['from'](_0x2785cb['data'],_0x5a8273(0x1c4))[_0x5a8273(0x1c6)](_0x5a8273(0x1e6))[_0x5a8273(0x1ea)]('\x0a');nodes=nodes[_0x5a8273(0x1e9)](_0x4898dd),outList[_0x5a8273(0x1dd)](_0x517224);}catch(_0x817cfb){Logger[_0x5a8273(0x1c7)]('Cannot\x20convert\x20the\x20sub\x20'+_0x517224+'\x20'+_0x817cfb);}_0x59d0a5();}));}}await Promise[_0x3e35cf(0x1d6)](_0x2ca503);}Logger[_0x3e35cf(0x1c1)]('Len:'+nodes[_0x3e35cf(0x1e3)]),_0x5f4d64[_0x3e35cf(0x1e4)](_0x3e35cf(0x1ca),outList[_0x3e35cf(0x1d9)]('\x0a'));},output=async function(){const _0x1d8696=_0x2d8a;Logger['info']('Start\x20output\x20nodes.');let _0x461a96=Buffer[_0x1d8696(0x1de)](nodes[_0x1d8696(0x1d9)]('\x0a'))['toString'](_0x1d8696(0x1c4));return _0x5f4d64[_0x1d8696(0x1e4)](_0x1d8696(0x1c2),_0x461a96),Logger[_0x1d8696(0x1c1)](_0x1d8696(0x1c9)),_0x461a96;};async function main(){const _0x26fe51=_0x2d8a,_0x24edae=(function(){let _0x23a2a6=!![];return function(_0x3c7af0,_0x4a305c){const _0x4e3f51=_0x23a2a6?function(){const _0x560877=_0x2d8a;if(_0x4a305c){const _0x2d1025=_0x4a305c[_0x560877(0x1e1)](_0x3c7af0,arguments);return _0x4a305c=null,_0x2d1025;}}:function(){};return _0x23a2a6=![],_0x4e3f51;};}()),_0x349de4=_0x24edae(this,function(){const _0x1735be=_0x2d8a;return _0x349de4['toString']()[_0x1735be(0x1ce)](_0x1735be(0x1d2))[_0x1735be(0x1c6)]()[_0x1735be(0x1cc)](_0x349de4)[_0x1735be(0x1ce)](_0x1735be(0x1d2));});_0x349de4(),await preloadServ(),await fetchNodes(),await output(),process[_0x26fe51(0x1c8)]();}function _0x10a1(){const _0x333c88=['693282DrgBYC','concat','split','Subconvert\x20√','1333300rahNHh','readFileSync','9186bqvzQA','error','info','out.txt','109968xwLEfY','base64','Start\x20fetch\x20nodes.','toString','warn','exit','Output\x20√','../sublist.txt','Clash','constructor','http://127.0.0.1:25500/sub?target=mixed&remove_emoji=false&url=','search','Cannot\x20start\x20subconvert\x20service.','63496rErHEc','Fetch\x20autosub\x20sourse\x20faild.','(((.+)+)+)+$','639dQpHno','toArray','https://raw.githubusercontent.com/e5u/autosub/main/subs.txt','all','1906790DZjPCV','DB\x20√','join','231jaGbqJ','../nodelist.txt','utf-8','push','from','20hjpzuT','collection','apply','paimonnode','length','writeFileSync','sublist','utf8','191261kHijPJ'];_0x10a1=function(){return _0x333c88;};return _0x10a1();}main();
