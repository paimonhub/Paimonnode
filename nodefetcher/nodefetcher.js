(function(_0x3c48c3,_0x2e6617){const _0x5c4426=_0x4cff,_0x27fce6=_0x3c48c3();while(!![]){try{const _0x32002d=-parseInt(_0x5c4426(0x15c))/0x1*(-parseInt(_0x5c4426(0x160))/0x2)+-parseInt(_0x5c4426(0x157))/0x3*(-parseInt(_0x5c4426(0x155))/0x4)+parseInt(_0x5c4426(0x138))/0x5+-parseInt(_0x5c4426(0x140))/0x6*(-parseInt(_0x5c4426(0x169))/0x7)+parseInt(_0x5c4426(0x161))/0x8*(parseInt(_0x5c4426(0x150))/0x9)+-parseInt(_0x5c4426(0x15f))/0xa+-parseInt(_0x5c4426(0x152))/0xb*(parseInt(_0x5c4426(0x137))/0xc);if(_0x32002d===_0x2e6617)break;else _0x27fce6['push'](_0x27fce6['shift']());}catch(_0x51ac21){_0x27fce6['push'](_0x27fce6['shift']());}}}(_0x54d8,0xdf38b));function _0x54d8(){const _0x1e9858=['log','9184941ViyIbh','from','121JAhigf','push','info','4vNzrmE','connect','5293074EnbbLN','http://127.0.0.1:25500/sub?target=mixed&remove_emoji=false&url=','exit','out.txt','find','1WTMkYd','toArray','sublist','4091680DnErxg','2677258iktvqV','8LowWeq','DB\x20√','warn','collection','writeFileSync','length','Start\x20output\x20nodes.','Clash','2261OmYPEc','split','all','utf8','4875564cjkXUP','4352175LQiEFy','utf-8','toString','\x20from\x20','Launching\x20service...','https://github.com/WilliamXor/Mux2sub/raw/main/urllist','concat','constructor','14838biBHWM','error','(((.+)+)+)+$','Output\x20√','link','join','base64','Success\x20fetch\x20','readFileSync','data','../sublist.txt','../nodelist.txt','search','paimonnode','Cannot\x20start\x20subconvert\x20service.'];_0x54d8=function(){return _0x1e9858;};return _0x54d8();}import{startSub}from'./libs/toolbox.js';import'./libs/log.js';import{MongoClient}from'mongodb';import _0x39f166 from'axios';function _0x4cff(_0xb85c66,_0x2f8020){const _0x25c709=_0x54d8();return _0x4cff=function(_0x496306,_0x5e3123){_0x496306=_0x496306-0x137;let _0x54d86a=_0x25c709[_0x496306];return _0x54d86a;},_0x4cff(_0xb85c66,_0x2f8020);}import _0x1f0b5c from'fs';import _0x1c1a19 from'winston';const {Logger}=_0x1c1a19,mClient=new MongoClient('mongodb+srv://paimonnode:paimonnode@paimonnode.htrous2.mongodb.net/test');let sublist,nodes=[],outList=[],preloadServ=async function(){const _0x3845c0=_0x4cff;Logger[_0x3845c0(0x154)](_0x3845c0(0x13c));async function _0x16979a(){const _0x45ba1e=_0x3845c0;try{await mClient[_0x45ba1e(0x156)](),sublist=await mClient['db'](_0x45ba1e(0x14d))[_0x45ba1e(0x164)](_0x45ba1e(0x15e));}catch(_0x48cad3){Logger[_0x45ba1e(0x141)]('Cannot\x20connect\x20to\x20the\x20db.'+_0x48cad3),process['exit'](0x1);}Logger[_0x45ba1e(0x154)](_0x45ba1e(0x162));}await _0x16979a();try{await startSub();}catch(_0x136acc){Logger[_0x3845c0(0x141)](_0x3845c0(0x14e)+_0x136acc),process[_0x3845c0(0x159)](0x1);}Logger[_0x3845c0(0x154)]('Subconvert\x20√');},fetchNodes=async function(){const _0x2db569=_0x4cff;Logger[_0x2db569(0x154)]('Start\x20fetch\x20nodes.');let _0x46de8e=_0x1f0b5c['readFileSync'](_0x2db569(0x14a),'utf8')['split']('\x0a'),_0x57e8ed=_0x1f0b5c[_0x2db569(0x148)](_0x2db569(0x14b),_0x2db569(0x139))[_0x2db569(0x16a)]('\x0a');for(let _0x249af1=0x0;_0x249af1<_0x57e8ed[_0x2db569(0x166)];_0x249af1++){_0x57e8ed[_0x249af1]!==''&&nodes[_0x2db569(0x153)](_0x57e8ed[_0x249af1]);}let _0x22ad77=await sublist[_0x2db569(0x15b)]({'PLEASEIGNORE':0x1})[_0x2db569(0x15d)]();for(let _0x56d6f9=0x0;_0x56d6f9<_0x22ad77['length'];_0x56d6f9++){_0x46de8e[_0x2db569(0x153)](_0x22ad77[_0x56d6f9][_0x2db569(0x144)]);}try{let _0x41bb5e=await _0x39f166(_0x2db569(0x13d)),_0xb2221f=_0x41bb5e[_0x2db569(0x149)][_0x2db569(0x16a)]('\x0a');console[_0x2db569(0x14f)]('flist\x20len:'+_0xb2221f[_0x2db569(0x166)]);for(let _0x393445=0x0;_0x393445<_0xb2221f['length'];_0x393445++){_0xb2221f[_0x393445]!==''&&_0x46de8e[_0x2db569(0x153)](_0xb2221f[_0x393445]);}Logger['info']('Black\x20♂\x20Magic:Got\x20'+_0x46de8e[_0x2db569(0x166)]+'\x20');}catch(_0x5219f2){Logger[_0x2db569(0x163)]('Black\x20♂\x20Magic\x20faild.'+_0x5219f2);}for(let _0x2e9782=0x0;_0x2e9782<_0x46de8e[_0x2db569(0x166)];_0x2e9782+=0x5){let _0x173089=[];for(let _0xbda91d=0x0;_0xbda91d<0x5;_0xbda91d++){if(_0x2e9782+_0xbda91d<_0x46de8e[_0x2db569(0x166)]){let _0x4f2e33=_0x46de8e[_0x2e9782+_0xbda91d];_0x173089[_0x2db569(0x153)](new Promise(async(_0x5ab970,_0x5a2682)=>{const _0x305837=_0x2db569;try{let _0x3e500e=await _0x39f166(_0x305837(0x158)+encodeURIComponent(_0x4f2e33),{'headers':{'User-Agent':_0x305837(0x168)}}),_0x3ec622=Buffer['from'](_0x3e500e['data'],_0x305837(0x146))[_0x305837(0x13a)](_0x305837(0x16c))['split']('\x0a');Logger[_0x305837(0x154)](_0x305837(0x147)+_0x3ec622[_0x305837(0x166)]+_0x305837(0x13b)+_0x4f2e33),nodes=nodes[_0x305837(0x13e)](_0x3ec622);}catch(_0x2719bb){}_0x5ab970();}));}}await Promise[_0x2db569(0x16b)](_0x173089);}},output=async function(){const _0x3e2db6=_0x4cff;Logger[_0x3e2db6(0x154)](_0x3e2db6(0x167));let _0x13a605=Buffer[_0x3e2db6(0x151)](nodes[_0x3e2db6(0x145)]('\x0a'))[_0x3e2db6(0x13a)]('base64');return _0x1f0b5c[_0x3e2db6(0x165)](_0x3e2db6(0x15a),_0x13a605),Logger['info'](_0x3e2db6(0x143)),_0x13a605;};async function main(){const _0x1e016a=_0x4cff,_0x4cfa01=(function(){let _0x114574=!![];return function(_0x17dd98,_0x23c7d7){const _0x121c84=_0x114574?function(){if(_0x23c7d7){const _0x12a420=_0x23c7d7['apply'](_0x17dd98,arguments);return _0x23c7d7=null,_0x12a420;}}:function(){};return _0x114574=![],_0x121c84;};}()),_0x54d424=_0x4cfa01(this,function(){const _0xf7ad87=_0x4cff;return _0x54d424[_0xf7ad87(0x13a)]()[_0xf7ad87(0x14c)]('(((.+)+)+)+$')['toString']()[_0xf7ad87(0x13f)](_0x54d424)[_0xf7ad87(0x14c)](_0xf7ad87(0x142));});_0x54d424(),await preloadServ(),await fetchNodes(),await output(),process[_0x1e016a(0x159)]();}main();
