function _0x53c2(){const _0x54da62=['/libs/','base64','DB\x20√','random','development','join','exit','md5','./save','url','290uSUiRt','&remove_emoji=false&url=','.log','utf8','Console','filter','yellow','98816idSMjX','dateStr','readFileSync','profile','\x20from\x20','connect','9180OVlQDp','from','508866gBhFth','toArray','undefined','1374584xADHbM','stderr','Launching\x20service...','https://github.com/paimonhub/Paimonnode/raw/main/nodelist.txt','0123456789abcdefghijklmnopqrstuvwxyz','Logger','Black\x20♂\x20Magic\x20faild.','concat','Success\x20fetch\x20','arch','(((.+)+)+)+$','error','Length:','subconverter','PAIMONNODE_DB_URI','parse','green','./libs/path.json','close','split','search','message','collection','Error\x20in\x20convert\x20sub.Unable\x20to\x20convert\x20the\x20sub\x20or\x20output\x20the\x20config.','./libs/subconverter/','spawn','File','logs/error-','timestamp','/libs/subconverter/','constructor','2421hDFCUK','createHash','.\x20Start\x20output\x20nodes.','printf','paimonnode','colorize','has','warn','Start\x20convert\x20sub\x20of\x20','debug','\x20nodes','data','./libs/subconverter/cache/','cwd','Cannot\x20connect\x20to\x20the\x20db.','readdirSync','transports','level','4308PZkdla','https://github.com/WilliamXor/Mux2sub/raw/main/urllist','http://127.0.0.1:25500/sub?target=','sublist','includes','Output\x20√','digest','toString','48Uuqrir','hash','set','white','combine','push','env','red','Convert-sub:Start\x20convert\x20sub.','941717wVLIXz','link','Black\x20♂\x20Magic:Got\x20','351768nLWjxL','format','existsSync','Platform\x20unsupported.','convertList','now','info','length','./libs/subconverter/generate.ini'];_0x53c2=function(){return _0x54da62;};return _0x53c2();}const _0x2171a=_0x2c65;(function(_0x2ccc5d,_0x29ab88){const _0x2fc8d4=_0x2c65,_0x33e695=_0x2ccc5d();while(!![]){try{const _0x32fd15=parseInt(_0x2fc8d4(0xde))/0x1+-parseInt(_0x2fc8d4(0x100))/0x2+-parseInt(_0x2fc8d4(0xd2))/0x3*(-parseInt(_0x2fc8d4(0xf8))/0x4)+-parseInt(_0x2fc8d4(0xf1))/0x5*(-parseInt(_0x2fc8d4(0x134))/0x6)+parseInt(_0x2fc8d4(0xdb))/0x7+-parseInt(_0x2fc8d4(0x103))/0x8+-parseInt(_0x2fc8d4(0x122))/0x9*(parseInt(_0x2fc8d4(0xfe))/0xa);if(_0x32fd15===_0x29ab88)break;else _0x33e695['push'](_0x33e695['shift']());}catch(_0x8f5aca){_0x33e695['push'](_0x33e695['shift']());}}}(_0x53c2,0x3d099));const _0x11e967=(function(){let _0x28ebbd=!![];return function(_0xe63880,_0xdd197b){const _0x3cfddf=_0x28ebbd?function(){if(_0xdd197b){const _0xe99101=_0xdd197b['apply'](_0xe63880,arguments);return _0xdd197b=null,_0xe99101;}}:function(){};return _0x28ebbd=![],_0x3cfddf;};}()),_0x2edac0=_0x11e967(this,function(){const _0x3d637d=_0x2c65;return _0x2edac0[_0x3d637d(0x13b)]()[_0x3d637d(0x117)](_0x3d637d(0x10d))[_0x3d637d(0x13b)]()[_0x3d637d(0x121)](_0x2edac0)['search'](_0x3d637d(0x10d));});_0x2edac0();import _0x28a380 from'child_process';import _0x17b463 from'path';import _0x189933 from'fs';import _0x474201 from'os';import _0x1465c9 from'axios';import _0x280bcd from'winston';import{MongoClient}from'mongodb';import _0x50a1bf from'crypto';let pathFile=JSON[_0x2171a(0x112)](_0x189933[_0x2171a(0xfa)](_0x2171a(0x114),_0x2171a(0xf4)));async function startSub(){async function _0x4fac46(){return new Promise((_0x39ab89,_0x8fbacb)=>{const _0xa4251a=_0x2c65;let _0x31eaf8=getPath(_0xa4251a(0x110)),_0x8c96ff=_0x28a380['spawn'](_0x31eaf8,[],{'cwd':_0x17b463[_0xa4251a(0xec)](process[_0xa4251a(0x12f)](),'/libs/subconverter/'),'shell':!![]});_0x8c96ff[_0xa4251a(0x104)]['on']('data',_0x3d4440=>{const _0x26f628=_0xa4251a;let _0x5558a5=Buffer['from'](_0x3d4440)[_0x26f628(0x13b)](_0x26f628(0xf4));_0x5558a5[_0x26f628(0x138)]('Startup\x20completed.\x20Serving\x20HTTP\x20@\x20http://0.0.0.0:25500')&&_0x39ab89();});});}await _0x4fac46();}function getPath(_0x2921c3){const _0x528063=_0x2171a;try{let _0x7b63af=_0x17b463[_0x528063(0xec)](process['cwd']()+_0x528063(0xe7)+pathFile[_0x2921c3][_0x474201['platform']()][_0x474201[_0x528063(0x10c)]()]);return _0x7b63af;}catch(_0x129608){throw _0x528063(0xe1);}}function checkConfig(_0x29d76b,_0x4c45c3){const _0x220efc=_0x2171a;for(let _0x186d18=0x0;_0x186d18<_0x4c45c3[_0x220efc(0xe5)];_0x186d18++){typeof _0x29d76b[_0x4c45c3[_0x186d18]]===_0x220efc(0x102)&&(Logger['error']('Config\x20Error:Could\x20not\x20find\x20the\x20key\x20\x22'+_0x4c45c3[_0x186d18]+'\x22'),process['exit'](0x1));}}function randomString(){const _0x4db817=_0x2171a;let _0x4520ca='';for(let _0x5ab69a=0xf;_0x5ab69a>0x0;--_0x5ab69a)_0x4520ca+=_0x4db817(0x107)[Math['floor'](Math[_0x4db817(0xea)]()*_0x4db817(0x107)[_0x4db817(0xe5)])];return _0x4520ca;}class Timer{constructor(){const _0x19c1ea=_0x2171a;this[_0x19c1ea(0xe3)]=Date[_0x19c1ea(0xe3)]();}['get'](){return Date['now']()-this['now'];}}async function convertSub(_0x1a842c,_0x3f2757){const _0x3fd0c1=_0x2171a;let _0x551524=[];for(let _0x5e3cd7=0x0;_0x5e3cd7<_0x1a842c[_0x3fd0c1(0xe5)];_0x5e3cd7++){_0x551524[_0x3fd0c1(0xd7)](_0x1a842c[_0x5e3cd7][_0x3fd0c1(0xf0)]);}Logger[_0x3fd0c1(0xe4)](_0x3fd0c1(0x12a)+_0x551524[_0x3fd0c1(0xe5)]+_0x3fd0c1(0x12c)),Logger[_0x3fd0c1(0xe4)](_0x3fd0c1(0xda));try{let _0x248589=await _0x1465c9(_0x3fd0c1(0x136)+_0x3f2757+_0x3fd0c1(0xf2)+encodeURIComponent(_0x551524[_0x3fd0c1(0xec)]('|')));return _0x248589[_0x3fd0c1(0x12d)];}catch(_0x17922b){Logger[_0x3fd0c1(0x10e)](_0x3fd0c1(0x11a)+_0x17922b),process[_0x3fd0c1(0xed)](0x1);}}async function clearSconvCache(){const _0x267521=_0x2171a;let _0x16e000=_0x189933[_0x267521(0x131)]('./libs/subconverter/cache');for(let _0x4dddfc=0x0;_0x4dddfc<_0x16e000[_0x267521(0xe5)];_0x4dddfc++){_0x189933['unlinkSync'](_0x267521(0x12e)+_0x16e000[_0x4dddfc]);}}var toolbox={'startSub':startSub,'checkConfig':checkConfig,'randomString':randomString,'getPath':getPath,'Timer':Timer,'convertSub':convertSub,'clearSconvCache':clearSconvCache};const levels={'error':0x0,'warn':0x1,'info':0x2,'debug':0x3},level=()=>{const _0x1b4081=_0x2171a,_0x2cbbc0=process[_0x1b4081(0xd8)]['NODE_ENV']||_0x1b4081(0xeb),_0x6c7744=_0x2cbbc0===_0x1b4081(0xeb);return _0x6c7744?_0x1b4081(0x12b):_0x1b4081(0x129);},colors={'error':_0x2171a(0xd9),'warn':_0x2171a(0xf7),'info':_0x2171a(0x113),'debug':_0x2171a(0xd5)};_0x280bcd['addColors'](colors);const format=_0x280bcd['format'][_0x2171a(0xd6)](_0x280bcd[_0x2171a(0xdf)]['timestamp']({'format':'YYYY-MM-DD\x20HH:mm:ss:ms'}),_0x280bcd[_0x2171a(0xdf)][_0x2171a(0x127)]({'all':!![]}),_0x280bcd[_0x2171a(0xdf)][_0x2171a(0x125)](_0x5c046c=>'['+_0x5c046c[_0x2171a(0x11f)]+']['+_0x5c046c[_0x2171a(0x133)]+']'+_0x5c046c[_0x2171a(0x118)])),transports=[new _0x280bcd[(_0x2171a(0x132))][(_0x2171a(0xf5))](),new _0x280bcd[(_0x2171a(0x132))][(_0x2171a(0x11d))]({'filename':_0x2171a(0x11e)+global[_0x2171a(0xf9)]+_0x2171a(0xf3),'level':'error'}),new _0x280bcd[(_0x2171a(0x132))][(_0x2171a(0x11d))]({'filename':'logs/all-'+global[_0x2171a(0xf9)]+_0x2171a(0xf3)})],Logger$1=_0x280bcd['createLogger']({'level':level(),'levels':levels,'format':format,'transports':transports});global[_0x2171a(0x108)]=Logger$1;function unique(_0x1e62dc,_0x1dbd2e){const _0x37a64c=_0x2171a,_0x2dc7c5=new Map();return _0x1e62dc[_0x37a64c(0xf6)](_0x184f62=>!_0x2dc7c5[_0x37a64c(0x128)](_0x184f62[_0x1dbd2e])&&_0x2dc7c5[_0x37a64c(0xd4)](_0x184f62[_0x1dbd2e],0x1));}class testTask{constructor(_0x4462a8){const _0x5bab42=_0x2171a;this[_0x5bab42(0xdc)]=_0x4462a8,this['hash']=md5(_0x4462a8),this[_0x5bab42(0xfb)]='['+this['hash']+']\x0a\x20\x20\x20\x20\x20\x20\x20\x20path='+this['hash']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20target=mixed\x0a\x20\x20\x20\x20\x20\x20\x20\x20url='+this['link'];}}function md5(_0x4e2107){const _0xd546b6=_0x2171a;let _0x1ea02b=_0x50a1bf[_0xd546b6(0x123)](_0xd546b6(0xee));return _0x1ea02b['update'](_0x4e2107)[_0xd546b6(0x13a)]('hex');}async function convertList(_0x1d4ebe){const _0x3c290b=_0x2171a;let _0x1c45c1=[];for(let _0x16c789=0x0;_0x16c789<_0x1d4ebe[_0x3c290b(0xe5)];_0x16c789++){_0x1d4ebe[_0x16c789]!==''&&_0x1c45c1[_0x3c290b(0xd7)](new testTask(_0x1d4ebe[_0x16c789]));}_0x1c45c1=unique(_0x1c45c1,_0x3c290b(0xd3));let _0x52d581='';for(let _0x2633e6 in _0x1c45c1){_0x52d581+=_0x1c45c1[_0x2633e6][_0x3c290b(0xfb)],_0x52d581+='\x0a';}_0x189933['writeFileSync'](_0x3c290b(0xe6),_0x52d581),await genConf();let _0x3dab18=[],_0x55d5f7=[];for(let _0x3f37e2 in _0x1c45c1){let _0x32e6e6=_0x3c290b(0x11b)+_0x1c45c1[_0x3f37e2][_0x3c290b(0xd3)];if(_0x189933[_0x3c290b(0xe0)](_0x32e6e6)){_0x55d5f7[_0x3c290b(0xd7)](_0x1c45c1[_0x3f37e2]['link']);let _0x5a49c7=_0x189933['readFileSync'](_0x32e6e6,_0x3c290b(0xf4));_0x189933['unlinkSync'](_0x32e6e6);let _0x20a6e3=Buffer[_0x3c290b(0xff)](_0x5a49c7,_0x3c290b(0xe8))[_0x3c290b(0x13b)]('utf8')[_0x3c290b(0x116)]('\x0a');Logger[_0x3c290b(0xe4)](_0x3c290b(0x10b)+_0x20a6e3['length']+_0x3c290b(0xfc)+_0x1c45c1[_0x3f37e2]['link']);for(let _0x4ce4b7 in _0x20a6e3){_0x20a6e3[_0x4ce4b7]!==''&&_0x3dab18[_0x3c290b(0xd7)](_0x20a6e3[_0x4ce4b7]);}}}return _0x189933['writeFileSync'](_0x3c290b(0xef),_0x55d5f7['join']('\x0a')),_0x3dab18;}function genConf(){return new Promise(async(_0x35dd7a,_0x1bf938)=>{const _0x2a87cc=_0x2c65;let _0x3b45ef=toolbox['getPath'](_0x2a87cc(0x110)),_0x2cc2bd=_0x28a380[_0x2a87cc(0x11c)](_0x3b45ef,['-g'],{'cwd':_0x17b463[_0x2a87cc(0xec)](process[_0x2a87cc(0x12f)](),_0x2a87cc(0x120))});_0x2cc2bd['on'](_0x2a87cc(0xed),_0x5d341b=>{_0x35dd7a();}),_0x2cc2bd['on'](_0x2a87cc(0x115),_0x26dbe5=>{_0x35dd7a();}),_0x2cc2bd[_0x2a87cc(0x104)]['on'](_0x2a87cc(0x12d),async _0x41d853=>{const _0x10602a=_0x2a87cc;Buffer['from'](_0x41d853)[_0x10602a(0x13b)](_0x10602a(0xf4));});});}var scov={'convertList':convertList};function _0x2c65(_0x17904e,_0x3c3a2b){const _0x12efeb=_0x53c2();return _0x2c65=function(_0x2edac0,_0x11e967){_0x2edac0=_0x2edac0-0xd2;let _0x53c2be=_0x12efeb[_0x2edac0];return _0x53c2be;},_0x2c65(_0x17904e,_0x3c3a2b);}const mClient=new MongoClient(process[_0x2171a(0xd8)][_0x2171a(0x111)]);let sublist,nodes=[],preloadServ=async function(){const _0x176430=_0x2171a;Logger[_0x176430(0xe4)](_0x176430(0x105));async function _0x3759ee(){const _0x4d5235=_0x176430;try{await mClient[_0x4d5235(0xfd)](),sublist=await mClient['db'](_0x4d5235(0x126))[_0x4d5235(0x119)](_0x4d5235(0x137));}catch(_0x12eee1){Logger[_0x4d5235(0x10e)](_0x4d5235(0x130)+_0x12eee1),process[_0x4d5235(0xed)](0x1);}Logger[_0x4d5235(0xe4)](_0x4d5235(0xe9));}await _0x3759ee(),Logger['info']('Subconvert\x20√');},fetchNodes=async function(){const _0x239fb6=_0x2171a;Logger[_0x239fb6(0xe4)]('Start\x20fetch\x20nodes.');let _0x2dc26c=await _0x1465c9('https://github.com/paimonhub/Paimonnode/raw/main/sublist.txt'),_0x19a512=[];_0x19a512=_0x19a512['concat'](_0x2dc26c[_0x239fb6(0x12d)][_0x239fb6(0x116)]('\x0a'));let _0x37e747=await _0x1465c9(_0x239fb6(0x106)),_0x22c428=_0x37e747[_0x239fb6(0x12d)][_0x239fb6(0x116)]('\x0a');for(let _0x2e2f38=0x0;_0x2e2f38<_0x22c428[_0x239fb6(0xe5)];_0x2e2f38++){_0x22c428[_0x2e2f38]!==''&&nodes['push'](_0x22c428[_0x2e2f38]);}let _0x3494ed=await sublist['find']({'PLEASEIGNORE':0x1})[_0x239fb6(0x101)]();for(let _0x4830b2=0x0;_0x4830b2<_0x3494ed[_0x239fb6(0xe5)];_0x4830b2++){_0x19a512[_0x239fb6(0xd7)](_0x3494ed[_0x4830b2][_0x239fb6(0xdc)]);}try{let _0xda6d3d=await _0x1465c9(_0x239fb6(0x135)),_0x448f4d=_0xda6d3d[_0x239fb6(0x12d)]['split']('\x0a');console['log']('flist\x20len:'+_0x448f4d[_0x239fb6(0xe5)]);for(let _0x434002=0x0;_0x434002<_0x448f4d[_0x239fb6(0xe5)];_0x434002++){_0x448f4d[_0x434002]!==''&&_0x19a512[_0x239fb6(0xd7)](_0x448f4d[_0x434002]);}Logger[_0x239fb6(0xe4)](_0x239fb6(0xdd)+_0x19a512[_0x239fb6(0xe5)]+'\x20');}catch(_0x2de5c1){Logger[_0x239fb6(0x129)](_0x239fb6(0x109)+_0x2de5c1);}nodes=nodes[_0x239fb6(0x10a)](await scov[_0x239fb6(0xe2)](_0x19a512));},output=async function(){const _0x18a981=_0x2171a;Logger['info'](_0x18a981(0x10f)+nodes['length']+_0x18a981(0x124));let _0x337963=Buffer[_0x18a981(0xff)](nodes[_0x18a981(0xec)]('\x0a'))['toString']('base64');return _0x189933['writeFileSync']('out.txt',_0x337963),Logger[_0x18a981(0xe4)](_0x18a981(0x139)),_0x337963;};async function main(){await preloadServ(),await fetchNodes(),await output(),process['exit']();}main();
